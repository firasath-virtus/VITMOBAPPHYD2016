<div class="dist-style minheight-500">

  <div id="" class="row mg-0 ">
    <div class="col padding-0">
      <div class="row pdtopbottom-12 align-items-center">
        <div class="col-1">
          <a class="flex-sm-fill  nav-link pageTitle-style" href="javascript:void(0)">
            <!-- <i class="fa fa-file-text-o"></i>  -->
            Orders</a>
        </div>
        <div class="col-3">

          <button type="submit" md-raised-button class="  " [ngClass]="{'btn-primary': tabPanelView === 'allorder'}" href="javascript:void(0)"
            (click)="showTabPanel('allorder')">ALL ORDERS </button>
          <button type="submit" md-raised-button class=" " *ngIf="superDealer || customerCare" [ngClass]="{'btn-primary': tabPanelView === 'forward'}"
            href="javascript:void(0)" (click)="showTabPanel('forward')">FORWARDED ORDERS</button>

          <!-- <button type="submit" md-raised-button class=" " *ngIf="superDealer && tabPanelView != 'complete'" [ngClass]="{'btn-primary': tabPanelView === 'complete'}"
            href="javascript:void(0)" (click)="showTabPanel('complete')">Complete ORDERS</button> -->


          <!-- <a class="flex-sm-fill text-sm-center nav-link " *ngIf="superDealer" [ngClass]="{'active': tabPanelView === 'forward'}" href="javascript:void(0)"
          (click)="showTabPanel('forward')">FORWARD ORDERS</a> -->
          <!-- <a class="flex-sm-fill text-sm-center nav-link  " [ngClass]="{'active': tabPanelView === 'allorder'}" href="javascript:void(0)"
          (click)="showTabPanel('allorder')">ALL ORDERS</a> -->
        </div>

        <!-- for complete tab filter -->


        <div class="col right">
          <div class="row">
            <div class="">
              <md-select placeholder="Global Search" [(ngModel)]="globalFilterInput.order.searchtype" name="type" class="full-width left">
                <md-option value="name">Customer</md-option>
                <md-option value="mobile">Customer Mobile</md-option>
                <md-option value="orderid">Order Id</md-option>
                <md-option value="status">Status</md-option>
                <md-option value="followupdate">FollowUp Date</md-option>
                <md-option value="supplierid">Supplier</md-option>
                <md-option value="distributor_id">Distributor</md-option>
                <md-option value="deliveryslot">Delivery Slot</md-option>
                <md-option value="category">Category</md-option>


              </md-select>
            </div>
            <div class="col-3" *ngIf="globalFilterInput.order.searchtype == 'name'">
              <md-form-field class="example-full-width">
                <input class="form-control" mdInput placeholder="Enter Customer Name" [(ngModel)]="globalfilterType.customerName">
              </md-form-field>
            </div>
            <div class="col-3" *ngIf="globalFilterInput.order.searchtype == 'mobile'">
              <md-form-field class="example-full-width">
                <input class="form-control" mdInput placeholder="Enter Customer Mobile" [(ngModel)]="globalfilterType.customerMobile" maxlength="10">
              </md-form-field>
            </div>
            <div class="col-3" *ngIf="globalFilterInput.order.searchtype == 'orderid'">

              <md-form-field class="example-full-width">
                <input class="form-control" mdInput placeholder="Enter Order Id" [(ngModel)]="globalfilterType.orderid">
              </md-form-field>
            </div>

            <div class="col-4" *ngIf="globalFilterInput.order.searchtype == 'supplierid'">
              <md-form-field class="example-full-width">
                <input mdInput placeholder="Enter Supplier Name" aria-label="State" [mdAutocomplete]="auto" [formControl]="SupplierCtrl">
                <md-autocomplete #auto="mdAutocomplete">
                  <md-option *ngFor="let supplier of filteredSupplier | async" [value]="supplier.fullName">
                    <span>{{ supplier.fullName }}</span>
                  </md-option>
                </md-autocomplete>
              </md-form-field>
            </div>
            <div class="col-4" *ngIf="globalFilterInput.order.searchtype == 'distributor_id'">

              <md-form-field class="example-full-width">
                <input mdInput placeholder="Distributor" aria-label="State" [mdAutocomplete]="auto" [formControl]="DistributorCtrl">
                <md-autocomplete #auto="mdAutocomplete">
                  <md-option *ngFor="let dist of filteredDistributors | async" [value]="dist.fullName">
                    <span>{{ dist.fullName }}</span>
                  </md-option>
                </md-autocomplete>
              </md-form-field>
            </div>
            <div class="col-4" *ngIf="globalFilterInput.order.searchtype == 'followupdate'">
              <md-form-field class="inline">
                <input mdInput [mdDatepicker]="picker" placeholder="Next FollowUp Date" name="fromdate" [(ngModel)]="globalfilterType.followUpdate">
                <md-datepicker-toggle mdSuffix [for]="picker"></md-datepicker-toggle>
                <md-datepicker #picker></md-datepicker>
              </md-form-field>
            </div>
            <div class="col-3" *ngIf="globalFilterInput.order.searchtype == 'status'">
              <angular2-multiselect class="mgright" [data]="statusListComplete" [(ngModel)]="dropdownData.selectedItems" [settings]="dropdownSettings"
                name="selectedItem"></angular2-multiselect>
            </div>

            <div class="col-3" *ngIf="globalFilterInput.order.searchtype == 'category'">
              <angular2-multiselect class="mgright" [data]="categories" [(ngModel)]="categoryProduct.selectedItems" [settings]="dropdownSettings"
                name="selectedItem"></angular2-multiselect>
            </div>



            <div class="col-4" *ngIf="globalFilterInput.order.searchtype =='deliveryslot'">
              <div class="row">
                <div class="col-6">
                  <md-form-field class="inline">
                    <input mdInput [mdDatepicker]="picker" placeholder="Delivery Date" name="date" [(ngModel)]="globalfilterType.date">
                    <md-datepicker-toggle mdSuffix [for]="picker"></md-datepicker-toggle>
                    <md-datepicker #picker></md-datepicker>
                  </md-form-field>
                </div>
                <div class="col-6">
                  <md-select placeholder="Time Slot" class="wd-100pc left" name="timeSlot" [(ngModel)]="time">
                    <md-option>Select Slot</md-option>
                    <md-option value="8AM-11AM">8AM-11AM</md-option>
                    <md-option value="11AM-2PM">11AM-2PM</md-option>
                    <md-option value="2PM-5PM">2PM-5PM</md-option>
                    <md-option value="5PM-8PM">5PM-8PM</md-option>
                  </md-select>

                </div>
              </div>
            </div>

            <!--  complete page  filter ends here -->

            &nbsp;
            <a class="align-self-center">
              <i class="fa fa-search logo-color cursor" aria-hidden="true" (click)="globalSearch('true')"></i>
            </a>

            &nbsp;&nbsp;
            <a class="align-self-center">
              <button *ngIf="tabPanelView === 'allorder'" md-raised-button (click)="quickFilter('ordered')" [ngClass]="{'btn-primary': quickFilterView==='ordered'}">Ordered</button>
            </a>
            &nbsp;&nbsp;
            <a class="align-self-center">
              <button *ngIf="tabPanelView === 'forward'" md-raised-button (click)="quickFilter('notDelivered')" [ngClass]="{'btn-primary': quickFilterView==='notDelivered'}">Not Delivered</button>
            </a>
            &nbsp;&nbsp;
            <a class="align-self-center">
              <button md-raised-button class=" " (click)="quickFilter('delivered')" [ngClass]="{'btn-primary': quickFilterView==='delivered'}">Delivered</button>
            </a>
            &nbsp;&nbsp;
            <a class="align-self-center">
              <button md-raised-button class=" " (click)="quickFilter('followupdate')" [ngClass]="{'btn-primary': quickFilterView==='followupdate'}">Todays FollowUp</button>
            </a>
            &nbsp;&nbsp;
            <a class="align-self-center">
              <i class="fa fa-envelope logo-color cursor env-size" title="Inbox" (click)="inbox()"></i>
              <i aria-hidden="true" class="fa fa-history logo-color fs-20" title="Reset" (click)="clearFilter()"></i>
              <i aria-hidden="true" class="fa fa-refresh logo-color fs-20" title="Refresh" (click)="refresh()"></i>
            </a>&nbsp;&nbsp;&nbsp;

            <a class="align-self-center">
              <i aria-hidden="true" class="fa fa-sliders logo-color fs-20" title="Filter" (click)="filterDailogToggle()"></i>
              <div class="filterView" *ngIf="showFilterDailog">
                <div class="height-500">
                  <div class="form-group">
                    <md-select placeholder="Filter By" [(ngModel)]="filterInput.order.searchtype" name="type" class="full-width left">
                      <md-option value="name">Customer</md-option>
                      <md-option value="mobile">Customer Mobile</md-option>
                      <md-option value="orderid">Order Id</md-option>
                      <md-option value="status">Status</md-option>
                      <md-option value="followupdate">FollowUp Date</md-option>
                      <md-option value="supplierid" *ngIf="tabPanelView === 'allorder'">Supplier</md-option>
                      <md-option value="distributor_id" *ngIf="tabPanelView === 'forward'">Distributor</md-option>
                      <md-option value="deliveryslot">Delivery Slot</md-option>
                      <md-option value="category">Category</md-option>

                    </md-select>

                  </div>

                  <div class=" " *ngIf="filterInput.order.searchtype == 'name'">

                    <md-form-field class="example-full-width">
                      <input class="form-control" mdInput placeholder="Enter Customer Name" [(ngModel)]="filterType.customerName">
                    </md-form-field>
                  </div>
                  <div class=" " *ngIf="filterInput.order.searchtype == 'mobile'">
                    <md-form-field class="example-full-width">
                      <input class="form-control" mdInput placeholder="Enter Customer Mobile" [(ngModel)]="filterType.customerMobile" maxlength="10">
                    </md-form-field>
                  </div>
                  <div class=" " *ngIf="filterInput.order.searchtype == 'orderid'">

                    <md-form-field class="example-full-width">
                      <input class="form-control" mdInput placeholder="Enter Order Id" [(ngModel)]="filterType.orderid">


                    </md-form-field>
                  </div>

                  <div class=" " *ngIf="filterInput.order.searchtype == 'supplierid'">

                    <md-form-field class="example-full-width">
                      <input mdInput placeholder="Enter Supplier Name" aria-label="State" [mdAutocomplete]="auto" [formControl]="SupplierCtrl">
                      <md-autocomplete #auto="mdAutocomplete">
                        <md-option *ngFor="let supplier of filteredSupplier | async" [value]="supplier.fullName">
                          <span>{{ supplier.fullName }}</span>
                        </md-option>
                      </md-autocomplete>
                    </md-form-field>
                  </div>
                  <div class=" " *ngIf="filterInput.order.searchtype == 'distributor_id'">

                    <md-form-field class="example-full-width">
                      <input mdInput placeholder="Distributor" aria-label="State" [mdAutocomplete]="auto" [formControl]="DistributorCtrl">
                      <md-autocomplete #auto="mdAutocomplete">
                        <md-option *ngFor="let dist of filteredDistributors | async" [value]="dist.fullName">
                          <span>{{ dist.fullName }}</span>
                        </md-option>
                      </md-autocomplete>
                    </md-form-field>
                  </div>
                  <div class="form-group" *ngIf="filterInput.order.searchtype == 'followupdate'">
                    <md-form-field class="inline">
                      <input mdInput [mdDatepicker]="picker" placeholder="Next FollowUp Date" name="fromdate" [(ngModel)]="filterType.followUpdate">
                      <md-datepicker-toggle mdSuffix [for]="picker"></md-datepicker-toggle>
                      <md-datepicker #picker></md-datepicker>
                    </md-form-field>
                  </div>

                  <div class="left mgtop-20" *ngIf="filterInput.order.searchtype == 'status' && tabPanelView === 'forward'">
                    <angular2-multiselect class="" [data]="statusListForward" [(ngModel)]="dropdownData.selectedItems" [settings]="dropdownSettings"
                      name="selectedItem"></angular2-multiselect>
                  </div>
                  <div class="left mgtop-20" *ngIf="filterInput.order.searchtype == 'status' && tabPanelView === 'allorder'">
                    <angular2-multiselect class="" [data]="statusListAll" [(ngModel)]="dropdownData.selectedItems" [settings]="dropdownSettings"
                      name="selectedItem"></angular2-multiselect>
                  </div>

                  <div class="left mgtop-20" *ngIf="filterInput.order.searchtype == 'category'">
                    <angular2-multiselect class="" [data]="categories" [(ngModel)]="categoryProduct.selectedItems" [settings]="dropdownSettings"
                      name="selectedItem"></angular2-multiselect>
                  </div>



                  <div class="" *ngIf="filterInput.order.searchtype =='deliveryslot'">
                    <md-form-field class="inline">
                      <input mdInput [mdDatepicker]="picker" placeholder="Delivery Date" name="date" [(ngModel)]="filterType.date">
                      <md-datepicker-toggle mdSuffix [for]="picker"></md-datepicker-toggle>
                      <md-datepicker #picker></md-datepicker>
                    </md-form-field>

                    <md-select placeholder="Time Slot" class="wd-100pc left" name="timeSlot" [(ngModel)]="time">
                      <md-option value="8AM-11AM">8AM-11AM</md-option>
                      <md-option value="11AM-2PM">11AM-2PM</md-option>
                      <md-option value="2PM-5PM">2PM-5PM</md-option>
                      <md-option value="5PM-8PM">5PM-8PM</md-option>
                    </md-select>



                  </div>
                  <br>
                  <small>{{this.cantFilterMessage}}</small>
                  <div class="input-group pd-10 ">
                    <button md-raised-button color="primary" class="mgright-5" (click)="searchOrderList()">
                      <i class="fa fa-search" aria-hidden="true"></i> Search
                    </button>
                    <button md-raised-button color="primary" (click)="clearFilter()">
                      <i class="fa fa-filter" aria-hidden="true"></i> Clear Filter
                    </button>
                  </div>

                </div>
              </div>
            </a>&nbsp;
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <button type="submit" md-raised-button class="  " *ngIf="superDealer || customerCare" [ngClass]="{'btn-primary': newView === 'gridview'}"
            href="javascript:void(0)" (click)="showNewPanel('gridview')">Grid View</button> &nbsp;&nbsp;
          <button type="submit" md-raised-button class=" " *ngIf="superDealer || customerCare" [ngClass]="{'btn-primary': newView === 'mapview'}" href="javascript:void(0)"
            (click)="showNewPanel('mapview')">Map View</button>
        </div>
      </div>
      <br>

      <div *ngIf="tabPanelView === 'forward' && newView == 'gridview'" class="panelview-style">
        <table class="table table-hover table-striped">
          <tbody *ngFor="let forward of forwardOrders; let i = index" [attr.data-index]="i">
            <tr class="border-topbottom bg-eee">
              <td width="30%">
                <div class="row ">
                  <div class="col-sm-4  col-md-4  col-lg-4 left">
                    <label class="td-label">
                      <!-- Order Id : -->Id :
                      <b> #{{forward.order_id}}</b>
                    </label>
                  </div>
                  <div class="col-sm-6  col-md-6  col-lg-6 ">
                    <label *ngIf="superDealer || customerCare">Follow Up :
                      <span (click)='showFollowUp(forward)'>
                        <a>
                          <i class="fa fa-volume-control-phone fa-2 logo-color" title="Create FollowUp"></i>
                        </a>
                      </span>
                      <span *ngIf="forward.followupstatus == 'close'">
                        <i class="fa fa-volume-control-phone red" title="Follow Up completed"></i>
                      </span>
                      <span *ngIf="forward.followupstatus == 'open'">
                        <i class="fa fa-volume-control-phone green" title="Follow up open"></i>
                      </span>

                    </label>
                  </div>

                  <div class="col-sm-2  col-md-2  col-lg-2" *ngIf="forward.status == 'backtodealer'">
                    <label *ngIf="superDealer || customerCare">
                      <span>
                        <i class="fa fa-book logo-color" (click)="orderHistoryDialog(forward)"> </i>
                      </span>
                    </label>
                  </div>
                  <div *ngIf="forward.status != 'delivered'" class="col-sm-2  col-md-2  col-lg-2 right" (click)='editQuanity(forward)'>
                    <i class="fa fa-edit logo-color "></i>
                  </div>
                </div>
              </td>
              <td width="30%">
                <div class=" row ">
                  <div class="col-sm-8  col-md-8  col-lg-8 left onhovertooltip-150">
                    <label class="td-label">Customer :
                      <b class="capitalize " title="{{forward.orderby_firstname}}">{{forward.orderby_firstname}}</b>
                    </label>
                    <br>
                  </div>
                  <div class="col-sm-4  col-md-4  col-lg-4 right" (click)='showEditCustomer(forward)'>
                    <i class="fa fa-edit logo-color "></i>
                    <!-- <button class="col-sm-2 col-md-2 col-lg-2 btn btn-link btn-sm "  > -->
                    <i class="fa fa-user logo-color" aria-hidden="true" title="Customers orders" (click)='showCustomerAllOrders(forward)'></i>
                    <!-- </button> -->
                  </div>
                </div>
              </td>

              <td width="30%">
                <div class="row ">
                  <div class="col-sm-7  col-md-7  col-lg-7  left">
                    <label class="td-label">
                      <div class="row">
                        <b class="col-2 align-self-center fa fa-sitemap onhovertooltip-200 left" title="Distributor Name"></b>
                        <b class="col-10 rightbtn" class=" onhovertooltip-150  capitalize" *ngIf="forward.distributor" title="{{forward.distributor.firstname}} {{forward.distributor.lastname }}">{{forward.distributor.firstname +" "+forward.distributor.lastname }} </b>
                      </div>
                    </label>
                  </div>
                  <div class="col-sm-5  col-md-5  col-lg-5  right">
                    <!-- forward.customersource === 'MoyaCustomer' -->


                    <i class="fa fa-fighter-jet" aria-hidden="true" [ngClass]="forward.StatusColor" *ngIf="forward.expressdelivery == 'true'"
                      title="Express Delivery"></i>
                    <i class="fa fa-first-order" aria-hidden="true" [ngClass]="forward.StatusColor" *ngIf="forward.isfirstorder === '1'" title="New Order"></i>
                    <i class="fa fa-calendar-check-o " *ngIf="forward.ispreorder === 'true' || forward.ispreorder === 'MoyaCustomer' || forward.ispreorder === 'Admin' || forward.ispreorder === 'scheduler'"
                      aria-hidden="true" [ngClass]="forward.StatusColor" [attr.title]="forward.ispreorder === 'true' ? 'Preorder': forward.ispreorder"></i>
                    <i class="fa fa-reply-all " *ngIf="forward.customersource === 'MoyaCustomer'" aria-hidden="true" [ngClass]="forward.StatusColor"
                      title="Moya Customer"></i>

                    <i class="fa fa-frown-o red" title="Revert" *ngIf="forward.status == 'backtodealer'"></i>
                    <label class=" capitalize" [ngClass]="forward.StatusColor" (click)="ViewDistributors(forward)"> {{forward.OrderModifiedStatus}} </label>
                    <!-- assign button -->
                    <br>
                  </div>
                </div>
              </td>


              <td width="10%">
                <div class="row ">
                  <div class="col-sm-12  col-md-12  col-lg-12  left">
                    <label class="td-label">
                      <i class="fa  fa-codiepie "></i>
                      <b> Timer</b>
                    </label>
                    <div class="">
                      <i class="fa fa-minus logo-color fs-18 none "></i>
                      <i class="fa fa-plus fs-18  logo-color none " aria-hidden="true"></i>
                    </div>
                  </div>
                </div>
              </td>
            </tr>

            <tr>
              <td width="30%" class="brd-right ">
                <div class="mgtop-ng5">
                  <div class="form-group row ">
                    <div class="col-sm-4  col-md-4  col-lg-4 left">
                      <p class="td-label mgbottom-0">Category </p>
                      <b class="capitalize onhovertooltip-100" *ngIf="forward.productdetails">
                        {{forward.productdetails.category}} </b>
                        <b class="" *ngIf="forward.productdetails === null || forward.productdetails == ''"> - </b>
                    </div>
                    <div class="col-sm-4  col-md-4  col-lg-4">
                      <p class="td-label mgbottom-0">Product Name </p>
                      <b class="capitalize onhovertooltip-135" title="{{forward.brandname}}">
                        {{forward.brandname}} </b>
                    </div>
                    <div class="col-sm-4  col-md-4 col-lg-4 right">
                      <p class="td-label mgbottom-0">Product Type </p>
                      <b class="capitalize onhovertooltip-90" title="{{forward.prod_type}}">
                        {{forward.prod_type}} </b>
                    </div>
                  </div>

                  <div class="row form-group mgtop-ng5">
                    <div class="col-sm-6  col-md-6  col-lg-6">
                      <p class="td-label mgbottom-0">Quantity </p>
                      <b class="">{{forward.quantity}}</b>
                    </div>

                    <div class="col-sm-6  col-md-6  col-lg-6 right">
                      <p class="td-label mgbottom-0">Empty Cans</p>
                      <b class="" *ngIf="forward.empty_cans">{{forward.empty_cans}}</b>
                      <b class="" *ngIf="forward.empty_cans === null || forward.empty_cans == ''"> - </b>
                    </div>

                  </div>

                  <div class="row form-group">
                    <div class="col-sm-2   col-md-2  col-lg-2">
                      <p class="td-label mgbottom-0">Cost</p>
                      <b class="">{{forward.prod_cost}}</b>
                    </div>

                    <div class="col-3">
                      <p class="td-label mgbottom-0" title="Service Charges">Serv Chgs</p>
                      <b class="" *ngIf="forward.servicecharges">{{forward.servicecharges}}</b>
                      <b class="" *ngIf="forward.servicecharges === null"> - </b>
                    </div>

                    <div class="col-3">
                      <p class="td-label mgbottom-0" title="Express Delivery Charges">Exp Chgs</p>
                      <b class="" *ngIf="forward.expressdeliverycharges">{{forward.expressdeliverycharges}}</b>
                      <b class="" *ngIf="forward.expressdeliverycharges === null"> - </b>
                    </div>

                    <div class="col-4 right pdright-20">
                      <p class="td-label mgbottom-0" title="Empty Cans Amount">Emp Cans Amt</p>
                      <b class="" *ngIf="forward.advance_amount">{{forward.advance_amount}}</b>
                      <b class="" *ngIf="forward.advance_amount === null || forward.advance_amount == ''"> - </b>
                    </div>
                  </div>
                  <div class=" row mgtop-15">
                    <div class="col-sm-3  col-md-3  col-lg-3  left align-self-center">
                      <p class="td-label mgbottom-0">Total Amt </p>
                      <b class=" success">Rs.{{forward.bill_amount}}</b>
                    </div>

                    <div class="col-sm-4  col-md-4  col-lg-4 ">
                      <p class="td-label mgbottom-0">Payment Type </p>
                      <b class="capitalize">{{forward.paymenttype}}</b>
                    </div>
                    <div class="col-sm-2  col-md-2  col-lg-2 align-self-center">
                      <i *ngIf="forward.ispreorder == 'true'" class="fa fa-asterisk" style="color:tomato" title="Preorder"></i>
                      <i *ngIf="forward.preorderby !== null && forward.preorderby !=='dealer'" class="fa fa-asterisk" style="color:tomato"></i>
                    </div>
                    <div class="p-2-align align-self-center">
                      <span class="logo-color cursor" (click)='showOrderDetails(forward)'>
                        <!-- <i class="fa fa-chevron-circle-down" aria-hidden="true"></i> -->
                        View More</span>
                    </div>
                  </div>
                </div>
              </td>

              <td width="30%" class="brd-right">
                <div class="">
                  <div class="row form-group">
                    <div class="col-7 left">
                      <p class="td-label mgbottom-0"> Date Placed </p>
                      <b>{{forward.ordered_date | utcDate }}</b>
                    </div>
                    <div class="col-sm-5  col-md-5  col-lg-5 right">
                      <p class="td-label mgbottom-0">
                        Supplier Code</p>
                      <b class="capitalize" *ngIf="forward.customersource == 'DistributorCustomer' && forward.customer ">{{forward.customer.suppliercode}}</b>
                      <b class="" *ngIf="forward.customer.suppliercode === null"> - </b>
                    </div>
                  </div>
                  <div class="row form-group">
                    <div class="col-7 left">
                      <p class="td-label mgbottom-0">
                        Mobile</p>
                      <b>{{forward.orderby_mobileno}}</b>
                    </div>
                    <div class="col-5 right">
                      <p class="td-label mgbottom-0">
                        Promo Code
                      </p>
                      <b *ngIf="forward.user_reference_code !== null" class="">{{forward.user_reference_code}}</b>
                      <b class="" *ngIf="forward.user_reference_code === null"> - </b>
                    </div>
                  </div>
                  <div class="row form-group">
                    <div class="col-sm-12  col-md-6  col-lg-6 left">
                      <p class="td-label mgbottom-0">Delivery Time</p>
                      <b class=" danger">{{forward.delivery_exceptedtime}}</b>
                    </div>
                    <div class="col-6 right" *ngIf="forward.customersource == 'DistributorCustomer'">
                      <p class="td-label mgbottom-0" title="Associate Distributor">Ass Distributor</p>
                      <b *ngIf="forward.distributor" class="onhovertooltip-150  capitalize" title="{{forward.distributor.firstname}} {{forward.distributor.lastname}}">{{forward.distributor.firstname}} {{forward.distributor.lastname}}</b>
                    </div>
                    <div class="col-6 right" *ngIf="forward.customersource == 'MoyaCustomer'">
                      <p class="td-label mgbottom-0" title="Associate Distributor">Ass Distributor</p>
                      <b *ngIf="forward.distributor" class="onhovertooltip-150 capitalize" title="{{forward.distributor.firstname}} {{forward.distributor.lastname}}">{{forward.distributor.firstname}} {{forward.distributor.lastname}}</b>
                    </div>
                  </div>

                  <div class="row ">
                    <div class="col left">
                      <div class="row">
                        <div class="col-9">
                          <p class="td-label mgbottom-0">
                            Address</p>
                          <b>
                            <span class="capitalize onhovertooltip-260" title="{{forward.orderby_address}}"> {{forward.customer.address}}</span>
                          </b>
                        </div>
                        <div class="col-3 right align-self-center">
                          <button class="btn btn-link btn-sm copy-btn" (click)="copyElement(forward.customer.address)">
                            <i class=" fa fa-copy" aria-hidden="true"></i> Copy</button>
                        </div>
                      </div>


                    </div>
                  </div>
                </div>
              </td>
              <td width="30%" class="brd-right ">
                <div class="">
                  <div class="row form-group">
                    <div class="col-sm-5  col-md-5  col-lg-5 left">
                      <p class="td-label mgbottom-0">
                        Mobile </p>
                      <b *ngIf="forward.distributor">{{forward.distributor.mobileno}}</b>
                    </div>
                    <div class="col-sm-7  col-md-7  col-lg-7 right">

                    </div>
                  </div>
                  <div class="row form-group">
                    <div class="col-7 left">
                      <p class="td-label mgbottom-0"> Supplier</p>
                      <b class="capitalize onhovertooltip" *ngIf="forward.supplierdetails" title="{{forward.supplierdetails.firstname}} {{forward.supplierdetails.lastname}}">
                        {{forward.supplierdetails.firstname}} {{forward.supplierdetails.lastname}}</b>
                      <b class="capitalize" *ngIf="forward.supplierdetails === null"> - </b>


                    </div>
                    <div class="col-5 right">
                      <p class="td-label mgbottom-0">
                        Supplier Mobile</p>
                      <b *ngIf="forward.supplierdetails">{{forward.supplierdetails.mobileno}}</b>
                      <b class="capitalize" *ngIf="forward.supplierdetails === null"> - </b>


                    </div>
                  </div>
                  <div class="row form-group">

                    <div class="col">
                      <p class="td-label mgbottom-0">
                        Assigned On</p>
                      <span class="warning">{{forward.order_assigneddate | utcDate }}</span>
                    </div>

                    <div class="col right">
                      <p class="td-label mgbottom-0"> Delivered On </p>
                      <span class="success" *ngIf="forward.OrderModifiedStatus == 'Delivered'">{{forward.order_delivereddate | utcDate }}</span>
                      <b class="" *ngIf="forward.OrderModifiedStatus !== 'Delivered'"> - </b>
                    </div>
                  </div>


                  <div class="float-right pdtopbottom-12">
                    <!-- <button class="btn btn-link btn-sm" (click)='showFollowUpDetails(forward)'>
                          <i class="fa fa-phone-square fa-2" aria-hidden="true"></i> FollowUp Details</button>
                          <button class="btn btn-link btn-sm" (click)='showFollowUp(forward)'>
                              <i class="fa fa-volume-control-phone fa-2" aria-hidden="true"></i> FollowUp</button> -->
                    <button class="btn btn-link btn-sm" (click)="acceptOrder(forward)" *ngIf="(forward.status == 'backtodealer' || forward.status == 'assigned' || forward.status == 'ordered') && (forward.status != 'accept') && (forward.distributor != null && forward.supplierdetails === null) && (forward.forwardedby && forward.forwardedby > 0) ">
                      <i class="fa fa-check-circle-o" aria-hidden="true"></i> Accept</button>

                    <button class="btn red btn-link btn-sm" *ngIf="(forward.status == 'backtodealer' || forward.status == 'assigned' || forward.status == 'ordered') && (forward.status != 'accept') && (forward.distributor != null && forward.supplierdetails === null) && (forward.forwardedby && forward.forwardedby > 0) "
                      (click)="rejectOrder(forward)">
                      <i class="fa fa-times-circle-o red" aria-hidden="true"></i> Reject</button>

                    <button class="btn btn-link btn-sm" (click)='showCoverageDetails(forward)' *ngIf="superDealer || customerCare">
                      <i class="fa fa-map-marker" aria-hidden="true"></i> Map</button>

                    <button class="btn btn-link btn-sm" (click)="viewDistributorsOrders(forward)">
                      <i class="fa fa-sitemap" aria-hidden="true"></i> Orders </button>

                  </div>
                </div>
              </td>
              <!-- <td width="24%" >
                  <img src="../assets/images/piechart.png" class="height-95pc" alt="Pie-Chart" />
                </td> -->
              <td width="10%" class="center">
                <span *ngIf=" ((forward.status == 'ordered') || (forward.status == 'assigned') || (forward.status == 'backtodealer') || (forward.status == 'pending') || (forward.status == 'accept'))">
                  <ngx-gauge *ngIf="-24 < forward.timeRemaining && forward.timeRemaining < 24 || (forward.timeRemaining == -24 || forward.timeRemaining == 24)"
                    [thresholds]="thresholdConfig" [type]="gaugeType" [value]='forward.timeRemaining' [label]="gaugeLabel"
                    [append]="gaugeAppendText" [min]='guageMinimum' [max]='guageMaximum' [size]='130' [backgroundColor]="guageBackGround">

                  </ngx-gauge>
                  <b *ngIf="forward.timeRemaining < -24" class="red">
                    <i class="fa fa-exclamation-triangle fs-20"></i>
                    <br> {{forward.timeRemaining + (-2)* forward.timeRemaining}} Hours Over Due </b>
                  <b *ngIf="forward.timeRemaining > 24 && ((forward.status == 'ordered') || (forward.status == 'assigned') || (forward.status == 'backtodealer') || (forward.status == 'pending') || (forward.status == 'accept')) "
                    class="green"> {{forward.timeRemaining}} Hours Time Remaining</b>
                </span>
                <b *ngIf="((forward.status == 'delivered') || (forward.status == 'Delivered'))" class="success">
                  <i class="fa fa-check-square-o fs-20"></i>
                  <br> Delivered
                </b>

              </td>
            </tr>
          </tbody>
        </table>
        <h5 class="warning  capitalize center">
          <a href="javascript:void(0);" (click)=getPagingOrderDetails(false,tabPanelView); *ngIf="forwardClickMore">
            <i class="fa fa-cloud-upload" aria-hidden="true"></i>
            click for more data</a>
        </h5>
        <h4 *ngIf="!forwardClickMore" class="warning center">
          <i class="fa fa-frown-o" aria-hidden="true"></i> Record Not Available</h4>
      </div>
      <div *ngIf="tabPanelView === 'allorder' && newView === 'gridview'" class="panelview-style">
        <table class="table table-hover table-striped">
          <tbody *ngFor="let allorder of allOrders; let i = index" [attr.data-index]="i">
            <tr class="border-topbottom bg-eee">
              <td width="30%">
                <div class="row ">
                  <div class="col-sm-4  col-md-4  col-lg-4 left">
                    <label class="td-label">
                      <!-- Order Id : -->Id :
                      <b>#{{allorder.order_id}}</b>
                    </label>
                    <br>
                  </div>
                  <div class="col-sm-6  col-md-6  col-lg-6 left">
                    <label *ngIf="superDealer || customerCare">Follow Up :
                      <!-- <span (click)='showFollowUpDetails(allorder)'><i class="fa fa-phone-square fa-2 logo-color" title="FollowUp Details"></i></span> -->
                      <span (click)='showFollowUp(allorder)'>
                        <i class="fa fa-volume-control-phone fa-2 logo-color" title="FollowUp"></i>
                      </span>
                      <span *ngIf="allorder.followupstatus == 'close'">
                        <i class="fa fa-volume-control-phone red" title="Follow Up completed"></i>
                      </span>
                      <span *ngIf="allorder.followupstatus == 'open'">
                        <i class="fa fa-volume-control-phone green" title="Follow up open"></i>
                      </span>
                    </label>
                  </div>

                  <div class="col-sm-2  col-md-2  col-lg-2" *ngIf="allorder.status == 'backtodealer'">
                    <label *ngIf="superDealer || customerCare">
                      <span>
                        <i class="fa fa-book logo-color" (click)="orderHistoryDialog(allorder)"> </i>
                      </span>
                    </label>
                  </div>


                  <div *ngIf="allorder.status != 'delivered'" class="col-sm-2  col-md-2  col-lg-2 right" (click)='editQuanity(allorder)'>
                    <i class="fa fa-edit logo-color "></i>
                  </div>
                </div>
              </td>
              <td width="30%">
                <div class=" row ">
                  <div class="col-sm-8  col-md-8  col-lg-8 left onhovertooltip-150">
                    <label class="td-label">Customer :
                      <b class="capitalize " title="{{allorder.orderby_firstname}}">{{allorder.orderby_firstname}}</b>
                    </label>
                    <br>
                  </div>

                  <div class="col-sm-4  col-md-4  col-lg-4 right" (click)='showEditCustomer(allorder)'>
                    <i class="fa fa-edit logo-color "></i>
                    <!--              <button class="col-sm-2 col-md-2 col-lg-2 btn btn-link btn-sm " > -->
                    <i class="fa fa-user logo-color" aria-hidden="true" title="Customers orders" (click)='showCustomerAllOrders(allorder)'></i>
                    <!-- </button> -->
                  </div>
                </div>
              </td>
              <td width="30%">
                <div class="row">
                  <div class="col-sm-7  col-md-7  col-lg-7  left">
                    <label class="td-label">Supplier:
                      <b class="capitalize" *ngIf="allorder.supplierdetails" title="{{allorder.supplierdetails.firstname}} {{allorder.supplierdetails.lastname}}">
                        {{allorder.supplierdetails.firstname}} {{allorder.supplierdetails.lastname}}</b>
                      <b *ngIf="allorder.supplierdetails === null"> - </b>
                    </label>
                    <br>
                  </div>
                  <!-- <div class="col-sm-7  col-md-7  col-lg-7  left onhovertext">
                    <label class="td-label">Distributor:
                      <b *ngIf="allorder.distributor"> {{allorder.distributor.firstname}} {{allorder.distributor.lastname}}</b>
                    </label>
                    <br>
                  </div> -->
                  <div class="col-sm-5  col-md-5  col-lg-5  right">

                    <i class="fa fa-fighter-jet" aria-hidden="true" [ngClass]="allorder.StatusColor" *ngIf="allorder.expressdelivery == 'true'"
                      title="Express Delivery"></i>
                    <i class="fa fa-first-order" aria-hidden="true" [ngClass]="allorder.StatusColor" *ngIf="allorder.isfirstorder === '1'" title="New Order"></i>
                    <i class="fa fa-calendar-check-o " *ngIf="allorder.ispreorder === 'true' || allorder.ispreorder === 'MoyaCustomer' || allorder.ispreorder === 'Admin'"
                      aria-hidden="true" [ngClass]="allorder.StatusColor" [attr.title]="allorder.ispreorder === 'true' ? 'Preorder': allorder.ispreorder"></i>
                    <i class="fa fa-reply-all " *ngIf="allorder.customersource === 'MoyaCustomer'" aria-hidden="true" [ngClass]="allorder.StatusColor"
                      title="Moya Customer"></i>
                    <i class="fa fa-frown-o red" title="Revert" *ngIf="allorder.status == 'backtodealer'"></i>
                    <label class="capitalize" [ngClass]="allorder.StatusColor" (click)="ViewDistributors(allorder)">{{allorder.OrderModifiedStatus}}</label>
                    <br>
                  </div>
                </div>
              </td>

              <td width="10%">
                <div class="row">
                  <div class="col-sm-12  col-md-12  col-lg-12  left">
                    <label class="td-label">
                      <i class="fa  fa-codiepie "></i>
                      <b> Timer</b>
                    </label>
                    <i class="fa fa-minus logo-color fs-18 none"></i>
                    <i class="fa fa-plus fs-18  logo-color none" aria-hidden="true"></i>
                  </div>
                </div>
              </td>


              <!-- <td>
                <i class="fa fa-minus logo-color fs-18"></i>
                <i class="fa fa-plus fs-18  logo-color none" aria-hidden="true"></i>
              </td> -->
            </tr>
            <tr>
              <td width="30%" class="brd-right ">
                  <div class="mgtop-ng5">
                  <div class="form-group row ">
                    <div class="col-sm-4  col-md-4  col-lg-4 left">
                      <p class="td-label mgbottom-0">Category </p>
                      <b class="capitalize onhovertooltip-100" *ngIf="allorder.productdetails">
                        {{allorder.productdetails.category}} </b>
                      <b class="capitalize" *ngIf="allorder.productdetails === null">
                        - </b>
                    </div>

                    <div class="col-sm-4  col-md-4  col-lg-4">
                      <p class="td-label mgbottom-0">Product Name </p>
                      <b class="capitalize onhovertooltip-135">
                        {{allorder.brandname}} </b>
                    </div>

                    <div class="col-sm-4  col-md-4 col-lg-4 right">
                      <p class="td-label mgbottom-0">Product Type </p>
                      <b class="capitalize onhovertooltip-90" title="{{allorder.prod_type}}">
                        {{allorder.prod_type}} </b>
                    </div>
                  </div>

                  <div class="row form-group mgtop-ng5">
                    <div class="col-sm-6  col-md-6  col-lg-6">
                      <p class="td-label mgbottom-0">Quantity </p>
                      <b class="">{{allorder.quantity}}</b>
                    </div>
                    <div class="col-sm-6  col-md-6  col-lg-6 right">
                      <p class="td-label mgbottom-0">Empty Cans</p>
                      <b class="" *ngIf="allorder.empty_cans">{{allorder.empty_cans}}</b>
                      <b class="" *ngIf="allorder.empty_cans === null || allorder.empty_cans == ''"> - </b>
                    </div>

                  </div>

                  <div class="row form-group">


                    <div class="col-sm-2  col-md-2  col-lg-2">
                      <p class="td-label mgbottom-0">Cost</p>
                      <b class="">{{allorder.prod_cost}}</b>
                    </div>

                    <div class="col-sm-3  col-md-3  col-lg-3">
                      <p class="td-label mgbottom-0" title="Service Charges">Serv Chgs</p>
                      <b class="" *ngIf="allorder.servicecharges">{{allorder.servicecharges}}</b>
                      <b class="" *ngIf="allorder.servicecharges === null"> - </b>
                    </div>

                    <div class="col-sm-3  col-md-3  col-lg-3">
                      <p class="td-label mgbottom-0" title="Express Delivery Charges">Exp Chgs</p>
                      <b class="" *ngIf="allorder.expressdeliverycharges">{{allorder.expressdeliverycharges}}</b>
                      <b class="" *ngIf="allorder.expressdeliverycharges === null || allorder.expressdeliverycharges == ''"> - </b>
                    </div>

                    <div class="col-4 right pdright-20">
                      <p class="td-label mgbottom-0" title="Empty Cans Amount">Emp Cans Amt</p>
                      <b class="" *ngIf="allorder.advance_amount">{{allorder.advance_amount}}</b>
                      <b class="" *ngIf="allorder.advance_amount === null || allorder.advance_amount == ''"> - </b>
                    </div>
                  </div>


                  <div class=" row mgtop-15">
                      <div class="col-sm-3  col-md-3  col-lg-3  left align-self-center">
                      <p class="td-label mgbottom-0">Total Amt </p>
                      <b class="success">Rs.{{allorder.bill_amount}}</b>
                    </div>

                    <div class="col-sm-4  col-md-4  col-lg-4 ">
                      <p class="td-label mgbottom-0">Payment Type </p>
                      <b class="capitalize">{{allorder.paymenttype}}</b>
                    </div>

                    <div class="col-sm-2  col-md-2  col-lg-2 align-self-center">
                      <i *ngIf="allorder.ispreorder == 'true'" class="fa fa-asterisk" style="color:tomato" title="Preorder"></i>
                      <i *ngIf="allorder.preorderby !== null && allorder.preorderby !=='dealer'" class="fa fa-asterisk" style="color:tomato"></i>
                    </div>
                    <div class="p-2-align align-self-center">
                      <span class="logo-color cursor" (click)='showOrderDetails(allorder)'>
                        <!-- <i class="fa fa-chevron-circle-down" aria-hidden="true"></i>  -->
                        View More</span>
                    </div>
                  </div>
                </div>
              </td>
              <td width="30%" class="brd-right">
                <div class="">
                  <div class="form-group row ">
                    <div class="col">
                      <p class="td-label mgbottom-0">
                        Date Placed </p>
                      <b>{{allorder.ordered_date | utcDate}}</b>
                    </div>
                    <div class="col-sm-5  col-md-5  col-lg-5 right">
                      <p class="td-label mgbottom-0">
                        Supplier Code</p>
                      <b class="left" *ngIf="allorder.customersource == 'DistributorCustomer'">{{allorder.customer.suppliercode}}</b>
                    </div>
                  </div>
                  <div class=" row form-group">
                    <div class="col-sm-6  col-md-6  col-lg-6">
                      <p class="td-label mgbottom-0">Delivery Time</p>
                      <b class="left danger">{{allorder.delivery_exceptedtime}}</b>
                    </div>
                    <div class="col-sm-6  col-md-6 col-lg-6  right">
                      <p class="td-label mgbottom-0" title="Associate Distributor">Ass Distributor</p>
                      <b class=" capitalize onhovertooltip-150" *ngIf="allorder.customersource == 'DistributorCustomer'" title="{{allorder.customer.firstname}}">{{allorder.customer.firstname}}</b>
                    </div>
                  </div>
                  <div class="row form-group">
                    <div class="col-sm-7  col-md-7  col-lg-7 left">
                      <p class="td-label mgbottom-0">
                        Mobile</p>
                      <b>{{allorder.orderby_mobileno}}</b>
                    </div>
                    <div class="col-5 right">
                      <p class="td-label mgbottom-0">
                        Promo Code
                      </p>
                      <b *ngIf="allorder.user_reference_code !== null" class="">{{allorder.user_reference_code}}</b>
                      <b class="" *ngIf="allorder.user_reference_code === null"> - </b>
                    </div>
                  </div>
                  <div class="row ">
                    <div class="col left">
                      <div class="row">
                        <div class="col-9">
                          <p class="td-label mgbottom-0">
                            Address</p>
                          <b>
                            <span class="capitalize onhovertooltip-260" title="{{allorder.orderby_address}}">{{allorder.orderby_address}}</span>
                          </b>
                        </div>
                        <div class="col-3 right align-self-center">
                          <button class="btn btn-link btn-sm copy-btn" (click)="copyElement(allorder.orderby_address)">
                            <i class=" fa fa-copy" aria-hidden="true"></i> Copy</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </td>
              <td width="30%" class="brd-right ">
                <div class="">
                  <div class="form-group row ">
                    <div class="col left">
                      <p class="td-label mgbottom-0">
                        Mobile </p>
                      <b *ngIf="allorder.supplierdetails">{{allorder.supplierdetails.mobileno}}</b>
                      <b *ngIf="allorder.supplierdetails === null"> - </b>
                    </div>
                  </div>
                  <div class="form-group row ">
                    <div class="col left">
                      <p class="td-label mgbottom-0">
                        Assigned On</p>
                      <span class="warning" *ngIf="allorder.OrderModifiedStatus !== 'Assign'">
                        {{allorder.order_assigneddate | utcDate }}</span>
                      <b *ngIf="allorder.OrderModifiedStatus == 'Assign'"> - </b>
                      <b *ngIf="allorder.order_assigneddate === null"> - </b>
                    </div>
                  </div>
                  <div class="row form-group">
                    <div class="col left">
                      <p class="td-label mgbottom-0"> Delivered On </p>
                      <span class="success" *ngIf="allorder.OrderModifiedStatus == 'Delivered'">{{allorder.order_delivereddate | utcDate }}</span>
                      <b *ngIf="allorder.OrderModifiedStatus !== 'Delivered'"> - </b>

                    </div>
                  </div>
                  <div class="float-right pdtopbottom-12">
                    <!-- <button class="btn btn-link btn-sm" (click)='showFollowUpDetails(allorder)'>
                          <i class="fa fa-map-marker fa-2" aria-hidden="true"></i> FollowUp Details</button>
                          <button class="btn btn-link btn-sm" (click)='showFollowUp(allorder)'>
                              <i class="fa fa-map-marker fa-2" aria-hidden="true"></i> FollowUp</button> -->
                    <button class="btn btn-link btn-sm" (click)='showCoverageDetails(allorder)' *ngIf="superDealer || customerCare">
                      <i class="fa fa-map-marker fa-2" aria-hidden="true"></i> Map</button>

                    <!-- <button class="btn btn-link btn-sm "  (click)='showCustomerAllOrders(allorder)' >
                      <i class="fa fa-user " aria-hidden="true"  ></i> Orders</button> -->
                    <div class="row" *ngIf !='superDealer || customerCare'>
                      <button class="btn btn-link btn-sm" (click)="acceptOrder(allorder)" *ngIf="(allorder.status != 'delivered' || allorder.status == 'backtodealer' || allorder.status == 'assigned')  && (allorder.forwardedby && allorder.forwardedby > 0) ">
                        <i class="fa fa-check-circle-o" aria-hidden="true"></i> Accept</button>
                      <button class="btn red btn-link btn-sm" (click)="rejectOrder(allorder)" *ngIf="(allorder.status !='accept' && allorder.status !='delivered') && (allorder.forwardedby && allorder.forwardedby > 0) ">
                        <i class="fa fa-times-circle-o red" aria-hidden="true"></i> Reject</button>
                    </div>


                  </div>
                </div>
              </td>


              <td width="10%" class="center">
                <span *ngIf="((allorder.status == 'ordered') || (allorder.status == 'assigned') || (allorder.status == 'backtodealer') || (allorder.status == 'pending') || (allorder.status == 'accept'))">
                  <ngx-gauge *ngIf="-24 < allorder.timeRemaining && allorder.timeRemaining < 24 || allorder.timeRemaining == -24 || allorder.timeRemaining == 24"
                    [thresholds]="thresholdConfig" [type]="gaugeType" [value]='allorder.timeRemaining' [label]="gaugeLabel"
                    [append]="gaugeAppendText" [min]='guageMinimum' [max]='guageMaximum' [size]='130' [backgroundColor]="guageBackGround">
                  </ngx-gauge>
                  <b *ngIf="allorder.timeRemaining < -24" class="red">
                    <i class="fa fa-exclamation-triangle fs-20"></i>
                    <br> {{allorder.timeRemaining + (-2)* allorder.timeRemaining}} Hours Over Due </b>
                  <b *ngIf="allorder.timeRemaining > 24" class="green"> {{allorder.timeRemaining}} Hours Time Remaining</b>
                </span>
                <b *ngIf="((allorder.status == 'delivered') || (allorder.status == 'Delivered'))" class="success">
                  <i class="fa fa-check-square-o fs-20"></i>
                  <br> Delivered
                </b>
              </td>

            </tr>
          </tbody>
        </table>
        <h5 class="warning  center capitalize">
          <a href="javascript:void(0);" (click)=getPagingOrderDetails(false,tabPanelView); *ngIf="orderClickMore">
            <i class="fa fa-upload" aria-hidden="true"></i> Click for more data</a>
        </h5>
        <h4 *ngIf="!orderClickMore" class="warning center">
          <i class="fa fa-frown-o" aria-hidden="true"></i> Record Not Available</h4>


      </div>

      <div class="" *ngIf="newView == 'mapview'">
        <div class="col">
          <agm-map [latitude]="lat" [longitude]="lng" [zoom]="zoom" (mapClick)="mapClicked($event)" class="">

            <agm-marker *ngFor="let m of orderslocationData; let i = index" (markerClick)="clickedMarker(m)" [latitude]="m.lat"
              [longitude]="m.lng" [iconUrl]="m.icon">
            </agm-marker>


          </agm-map>
        </div>
      </div>
      <div *ngIf="tabPanelView === 'complete'" class="panelview-style">
        <table class="table table-hover table-striped">
          <tbody *ngFor="let complete of completeOrders; let i = index" [attr.data-index]="i">
            <tr class="border-topbottom bg-eee">
              <td width="30%">
                <div class="row ">
                  <div class="col-sm-4  col-md-4  col-lg-4 left">
                    <label class="td-label">
                      <!-- Order Id : -->Id :
                      <b> #{{complete.order_id}}</b>
                    </label>
                  </div>
                  <div class="col-sm-6  col-md-6  col-lg-6 ">
                    <label *ngIf="superDealer || customerCare">Follow Up :
                      <span (click)='showFollowUp(complete)'>
                        <a>
                          <i class="fa fa-volume-control-phone fa-2 logo-color" title="Create FollowUp"></i>
                        </a>
                      </span>
                      <span *ngIf="complete.followupstatus == 'close'">
                        <i class="fa fa-volume-control-phone red" title="Follow Up completed"></i>
                      </span>
                      <span *ngIf="complete.followupstatus == 'open'">
                        <i class="fa fa-volume-control-phone green" title="Follow up open"></i>
                      </span>

                    </label>
                  </div>

                  <div class="col-sm-2  col-md-2  col-lg-2" *ngIf="complete.status == 'backtodealer'">
                    <label *ngIf="superDealer || customerCare">
                      <span>
                        <i class="fa fa-book logo-color" (click)="orderHistoryDialog(complete)"> </i>
                      </span>
                    </label>
                  </div>



                  <div class="col-sm-2  col-md-2  col-lg-2 right" *ngIf="complete.status != 'delivered'" (click)='editQuanity(complete)'>
                    <i class="fa fa-edit logo-color "></i>
                  </div>
                </div>
              </td>
              <td width="30%">
                <div class=" row ">
                  <div class="col-sm-8  col-md-8  col-lg-8 left onhovertooltip-150">
                    <label class="td-label">Customer :
                      <b class="capitalize " title="{{complete.orderby_firstname}}">{{complete.orderby_firstname}}</b>
                    </label>
                    <br>
                  </div>
                  <div class="col-sm-4  col-md-4  col-lg-4 right" (click)='showEditCustomer(complete)'>
                    <i class="fa fa-edit logo-color "></i>
                    <!-- <button class="col-sm-2 col-md-2 col-lg-2 btn btn-link btn-sm "   > -->
                    <i class="fa fa-user logo-color" aria-hidden="true" title="Customers orders" (click)='showCustomerAllOrders(complete)'></i>
                    <!-- </button> -->
                  </div>
                </div>
              </td>
              <td width="30%">
                <div class="row ">
                  <div class="col-sm-7  col-md-7  col-lg-7  left">
                    <label class="td-label">
                      <div class="row">
                        <b class="col-2 align-self-center fa fa-sitemap onhovertooltip-200 left" title="Distributor Name"></b>
                        <b class="col-10 rightbtn" class=" capitalize onhovertooltip-150" *ngIf="complete.distributor" title="{{complete.distributor.firstname}} {{complete.distributor.lastname }}">{{complete.distributor.firstname +" "+complete.distributor.lastname }} </b>
                      </div>
                    </label>
                    <br>
                  </div>
                  <div class="col-sm-5  col-md-5  col-lg-5  right">
                    <!-- forward.customersource === 'MoyaCustomer' -->

                    <i class="fa fa-fighter-jet" aria-hidden="true" [ngClass]="complete.StatusColor" *ngIf="complete.expressdelivery == 'true'"
                      title="Express Delivery"></i>
                    <i class="fa fa-first-order" aria-hidden="true" [ngClass]="complete.StatusColor" *ngIf="complete.isfirstorder === '1'" title="New Order"></i>
                    <i class="fa fa-calendar-check-o " *ngIf="complete.ispreorder === 'true' || complete.ispreorder === 'MoyaCustomer' || complete.ispreorder === 'Admin' || complete.ispreorder === 'scheduler'"
                      aria-hidden="true" [ngClass]="complete.StatusColor" [attr.title]="complete.ispreorder === 'true' ? 'Preorder': complete.ispreorder"></i>
                    <i class="fa fa-reply-all " *ngIf="complete.customersource === 'MoyaCustomer'" aria-hidden="true" [ngClass]="complete.StatusColor"
                      title="Moya Customer"></i>
                      <i class="fa fa-frown-o red" title="Revert" *ngIf="complete.status == 'backtodealer'"></i>
                    <label class=" capitalize" [ngClass]="complete.StatusColor" (click)="ViewDistributors(complete)"> {{complete.OrderModifiedStatus}} </label>
                    <br>
                  </div>
                </div>
              </td>

              <td width="10%">
                <div class="row">
                  <div class="col-sm-12  col-md-12  col-lg-12  left">
                    <label class="td-label">
                      <i class="fa  fa-codiepie "></i>
                      <b> Timer</b>
                    </label>
                    <i class="fa fa-minus logo-color fs-18 none"></i>
                    <i class="fa fa-plus fs-18  logo-color none" aria-hidden="true"></i>
                  </div>
                </div>
              </td>


              <!-- <td  width="24%">
                    <label class="td-label"><i class="fa  fa-codiepie "></i><b>	Timer</b>
                      </label>
                  <i class="fa fa-minus logo-color fs-18 none"></i>
                  <i class="fa fa-plus fs-18  logo-color none" aria-hidden="true"></i>

                </td> -->

            </tr>

            <tr>
              <td width="30%" class="brd-right ">
                  <div class="mgtop-ng5">
                      <div class="form-group row ">
                    <div class="col-sm-4  col-md-4  col-lg-4 left">
                      <p class="td-label mgbottom-0">Category </p>
                      <b class="capitalize onhovertooltip-100" *ngIf="complete.productdetails">
                        {{complete.productdetails.category}} </b>
                      <b class="capitalize" *ngIf="complete.productdetails === null ">
                        - </b>
                    </div>

                    <div class="col-sm-4  col-md-4  col-lg-4">
                      <p class="td-label mgbottom-0">Product Name </p>
                      <b class="capitalize onhovertooltip-135">
                        {{complete.brandname}} </b>
                    </div>

                    <div class="col-sm-4  col-md-4 col-lg-4 right">
                      <p class="td-label mgbottom-0">Product Type </p>
                      <b class="capitalize onhovertooltip-90" title="{{complete.prod_type}}">
                        {{complete.prod_type}} </b>
                    </div>
                  </div>

                  <div class="row form-group mgtop-ng5">
                    <div class="col-sm-6  col-md-6  col-lg-6">
                      <p class="td-label mgbottom-0">Quantity </p>
                      <b class="">{{complete.quantity}}</b>
                    </div>
                    <div class="col-sm-6  col-md-6  col-lg-6 right">
                      <p class="td-label mgbottom-0">Empty Cans</p>
                      <b class="" *ngIf="complete.empty_cans">{{complete.empty_cans}}</b>
                      <b class="" *ngIf="complete.empty_cans === null || complete.empty_cans == ''"> - </b>
                    </div>
                  </div>

                  <div class="row form-group">
                    <div class="col-sm-2  col-md-2  col-lg-2">
                      <p class="td-label mgbottom-0">Cost</p>
                      <b class="">{{complete.prod_cost}}</b>
                    </div>

                    <div class="col-sm-3  col-md-3  col-lg-3">
                      <p class="td-label mgbottom-0" title="Service Charges">Serv Chgs</p>
                      <b class="" *ngIf="complete.servicecharges">{{complete.servicecharges}}</b>
                      <b class="" *ngIf="complete.servicecharges === null"> - </b>
                    </div>

                    <div class="col-sm-3  col-md-3  col-lg-3">
                      <p class="td-label mgbottom-0" title="Express Delivery Charges">Exp Chgs</p>
                      <b class="" *ngIf="complete.expressdeliverycharges">{{complete.expressdeliverycharges}}</b>
                      <b class="" *ngIf="complete.expressdeliverycharges === null || complete.expressdeliverycharges == ''"> - </b>
                    </div>

                    <div class="col-4 right pdright-20">
                      <p class="td-label mgbottom-0" title="Empty Cans Amount">Emp Cans Amt</p>
                      <b class="" *ngIf="complete.advance_amount">{{complete.advance_amount}}</b>
                      <b class="" *ngIf="complete.advance_amount === null || complete.advance_amount == ''"> - </b>
                    </div>
                  </div>

                  <div class=" row mgtop-15">
                    <div class="col-sm-3  col-md-3  col-lg-3  left align-self-center">
                      <p class="td-label mgbottom-0">Total Amt </p>
                      <b class="success">Rs.{{complete.bill_amount}}</b>
                      <!-- <b class="" *ngIf="forward.receivedamt > 0">Rs.{{forward.receivedamt}}</b> -->
                    </div>

                    <div class="col-sm-4  col-md-4  col-lg-4 ">
                      <p class="td-label mgbottom-0">Payment Type </p>
                      <b class="capitalize">{{complete.paymenttype}}</b>
                    </div>

                    <div class="col-sm-2  col-md-2  col-lg-2 align-self-center ">
                      <i *ngIf="complete.ispreorder == 'true'" class="fa fa-asterisk" style="color:tomato" title="Preorder"></i>
                      <i *ngIf="complete.preorderby !== null && complete.preorderby !=='dealer'" class="fa fa-asterisk" style="color:tomato"></i>
                    </div>
                    <div class="p-2-align align-self-center">
                      <span class="logo-color cursor" (click)='showOrderDetails(complete)'>
                        <!-- <i class="fa fa-chevron-circle-down" aria-hidden="true"></i>  -->
                        View More</span>
                    </div>
                  </div>
                </div>
              </td>
              <td width="30%" class="brd-right">
                <div class="row form-group">
                  <div class="col left">
                    <p class="td-label mgbottom-0">
                      Date Placed </p>
                    <b>{{complete.ordered_date | utcDate }}</b>
                  </div>
                  <div class="col-sm-5  col-md-5  col-lg-5 right">
                    <p class="td-label mgbottom-0">
                      Supplier Code</p>
                    <b class="capitalize" *ngIf="complete.customersource == 'DistributorCustomer'">{{complete.customer.suppliercode}}</b>

                    <b class="capitalize" *ngIf="!complete.customer.suppliercode"> - </b>
                  </div>
                </div>
                <div class="row form-group">

                  <div class="col-sm-12  col-md-6  col-lg-6 left">
                    <p class="td-label mgbottom-0">Delivery Time</p>
                    <b class=" danger">{{complete.delivery_exceptedtime}}</b>
                  </div>
                  <div class="col-6 right" *ngIf="complete.customersource == 'DistributorCustomer'">
                    <p class="td-label mgbottom-0" title="Associate Distributor">Ass Distributor</p>

                    <b *ngIf="complete.distributor" class="onhovertooltip-150 capitalize" title="{{complete.distributor.firstname}} {{complete.distributor.lastname}}">{{complete.distributor.firstname}} {{complete.distributor.lastname}}</b>
                  </div>
                  <div class="col-6 right" *ngIf="complete.customersource == 'MoyaCustomer'">
                    <p class="td-label mgbottom-0" title="Associate Distributor">Ass Distributor</p>
                    <b *ngIf="complete.distributor" class="onhovertooltip-150 capitalize" title="{{complete.distributor.firstname}} {{complete.distributor.lastname}}">{{complete.distributor.firstname}} {{complete.distributor.lastname}}</b>
                  </div>
                </div>
                <div class="row form-group">
                  <div class="col-7 left">
                    <p class="td-label mgbottom-0">
                      Mobile</p>
                    <b>{{complete.orderby_mobileno}}</b>

                  </div>
                  <div class="col-5 right">
                    <p class="td-label mgbottom-0">
                      Promo Code
                    </p>
                    <b *ngIf="complete.user_reference_code !== null" class="">{{complete.user_reference_code}}</b>
                    <b class="" *ngIf="complete.user_reference_code === null"> - </b>
                  </div>

                </div>

                <div class="row">
                  <div class="col left">
                    <p class="td-label mgbottom-0">
                      Address
                    </p>
                    <b class="capitalize onhovertooltip-260" title="{{complete.orderby_address}}">{{complete.orderby_address}}</b>
                    <button class="btn btn-link btn-sm copy-btn fa fa-copy" (click)="copyElement(complete.orderby_address)">copy</button>

                  </div>
                </div>
              </td>
              <td width="30%" class="brd-right">
                <div class="">
                  <div class="row form-group">
                    <div class="col-sm-5  col-md-5  col-lg-5 left">
                      <p class="td-label mgbottom-0">
                        Mobile </p>
                      <b *ngIf="complete.distributor">{{complete.distributor.mobileno}}</b>
                    </div>
                    <div class="col-sm-7  col-md-7  col-lg-7 right">

                    </div>
                  </div>
                  <div class="row form-group">
                    <div class="col-7 left">
                      <p class="td-label mgbottom-0">
                        Supplier</p>
                      <b class="capitalize" *ngIf="complete.supplierdetails" class="onhovertooltip-100" title="{{complete.supplierdetails.firstname}} {{complete.supplierdetails.lastname}}">
                        {{complete.supplierdetails.firstname}} {{complete.supplierdetails.lastname}}</b>
                    </div>
                    <div class="col-5  right">
                      <p class="td-label mgbottom-0">
                        Supplier Mobile</p>
                      <b *ngIf="complete.supplierdetails">{{complete.supplierdetails.mobileno}}</b>
                    </div>
                  </div>
                  <div class="row form-group">

                    <div class="col">
                      <p class="td-label mgbottom-0">
                        Assigned On</p>
                      <span class="" *ngIf="complete.OrderModifiedStatus !== 'Assign'">
                        <span class="warning">{{complete.order_assigneddate | utcDate }}</span>
                      </span>
                    </div>

                    <div class="col right">
                      <p class="td-label mgbottom-0"> Delivered On </p>
                      <span class="success" *ngIf="complete.OrderModifiedStatus == 'Delivered' || complete.OrderModifiedStatus == 'Rejected'">{{complete.order_delivereddate | utcDate }}</span>
                    </div>
                  </div>


                  <div class="float-right pdtopbottom-12">
                    <!-- <button class="btn btn-link btn-sm" (click)='showFollowUpDetails(forward)'>
                            <i class="fa fa-phone-square fa-2" aria-hidden="true"></i> FollowUp Details</button>
                            <button class="btn btn-link btn-sm" (click)='showFollowUp(forward)'>
                                <i class="fa fa-volume-control-phone fa-2" aria-hidden="true"></i> FollowUp</button> -->
                    <button class="btn btn-link btn-sm" (click)="acceptOrder(complete)" *ngIf="(complete.status == 'backtodealer' || complete.status == 'assigned' || complete.status == 'ordered') && (complete.status != 'accept')">

                      <i class="fa fa-check-circle-o" aria-hidden="true"></i> Accept</button>

                    <button class="btn red btn-link btn-sm" *ngIf="(complete.status == 'backtodealer' || complete.status == 'assigned' || complete.status == 'ordered') && (complete.status != 'accept')"
                      (click)="rejectOrder(complete)">
                      <i class="fa fa-times-circle-o red" aria-hidden="true"></i> Reject</button>

                    <button class="btn btn-link btn-sm" (click)='showCoverageDetails(complete)' *ngIf="superDealer || customerCare">
                      <i class="fa fa-map-marker fa-2" aria-hidden="true"></i> Map</button>


                    <button class="btn btn-link btn-sm" (click)="viewDistributorsOrders(complete)">
                      <i class="fa fa-sitemap fa-2" aria-hidden="true"></i> Orders </button>

                  </div>
                </div>
              </td>

              <td width="10%" class="center">
                <span *ngIf=" ((complete.status == 'ordered') || (complete.status == 'assigned') || (complete.status == 'backtodealer') || (complete.status == 'pending') || (complete.status == 'accept'))">
                  <ngx-gauge *ngIf="-24 < complete.timeRemaining && complete.timeRemaining < 24 || complete.timeRemaining == -24 || complete.timeRemaining == 24"
                    [thresholds]="thresholdConfig" [type]="gaugeType" [value]='complete.timeRemaining' [label]="gaugeLabel"
                    [append]="gaugeAppendText" [min]='guageMinimum' [max]='guageMaximum' [size]='130' [backgroundColor]="guageBackGround">
                  </ngx-gauge>

                  <b *ngIf="complete.timeRemaining < -24 " class="red">
                    <i class="fa fa-exclamation-triangle fs-20"></i>
                    <br> {{complete.timeRemaining + (-2)* complete.timeRemaining}} Hours Over Due </b>
                  <b *ngIf="complete.timeRemaining > 24" class="green"> {{complete.timeRemaining}} Hours Time Remaining</b>
                </span>
                <b *ngIf="((complete.status == 'delivered') || (complete.status == 'Delivered'))" class="success">
                  <i class="fa fa-check-square-o fs-20"></i>
                  <br> Delivered
                </b>
              </td>
            </tr>
          </tbody>
        </table>
        <h5 class="warning  capitalize center">
          <a href="javascript:void(0);" (click)=getPagingOrderDetails(false,tabPanelView); *ngIf="completeClickMore">
            <i class="fa fa-cloud-upload" aria-hidden="true"></i>
            click for more data</a>
        </h5>
        <h4 *ngIf="!completeClickMore" class="warning center">
          <i class="fa fa-frown-o" aria-hidden="true"></i> Record Not Available</h4>
      </div>
    </div>
  </div>
</div>